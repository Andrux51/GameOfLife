<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./tests.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">./tests.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(104 / 104)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(8 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(37 / 37)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(104 / 104)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">__root__/</a> &#187; ./tests.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-yes">18</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">36</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">64</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">34</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">100</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">55</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">describe('when loaded', function() {
    var ctrl, $scope;
    beforeEach(module('generation'));
    beforeEach(inject(function($controller, $injector) {
        $rootScope = $injector.get('$rootScope');
        $scope = $rootScope.$new();
        ctrl = $controller('appController', { $scope: $scope });
    }));
&nbsp;
    describe('initialize the cell grid and first generation', function() {
        it('should call a function to initialize', function() {
            spyOn($scope,'init');
            $scope.init();
            expect($scope.init).toHaveBeenCalled();
        });
        it('should start with the current generation being 1', function() {
            $scope.init();
            expect($scope.currentGeneration).toBe(1);
        });
        it('should make an array of cells', function() {
            $scope.init();
            expect(Array.isArray($scope.cells)).toBe(true);
        });
        it('should make a 10x10 "grid" using x,y coordinates for each cell', function() {
            $scope.init();
            var oneHundred = $scope.cells.filter(function(elem) {
                return elem.x == 9 &amp;&amp; elem.y == 9;
            });
            expect(typeof oneHundred[0]).toBe('object');
            expect(Object.keys(oneHundred[0])).toEqual(['x','y','alive','surviving', 'adjacent']);
        });
        it('should randomly set at least some of the cells to alive', function() {
            $scope.init();
            var alives = $scope.cells.filter(function(elem) {
                return elem.alive;
            });
            expect(alives.length).toBeGreaterThan(0);
        });
        it('should count the number of cells that are alive', function() {
            spyOn($scope,'countAlive');
            $scope.init();
            expect($scope.countAlive).toHaveBeenCalled();
        });
    });
&nbsp;
    describe('count the number of cells that are alive', function() {
        beforeEach(function() {
            $scope.init();
        });
        it('should call a function to do the count', function() {
            spyOn($scope,'countAlive');
            $scope.countAlive();
            expect($scope.countAlive).toHaveBeenCalled();
        });
        it('should filter the cells array for individuals that are alive', function() {
            spyOn($scope.cells,'filter');
            $scope.countAlive();
            expect($scope.cells.filter).toHaveBeenCalled();
        });
        it('should set a value to $scope.alive', function() {
            $scope.countAlive();
            expect($scope.alive).toBeDefined();
        });
    });
&nbsp;
    describe('proceed to the next generation', function() {
        beforeEach(function() {
            $scope.init();
        });
        it('should call a function to advance to the next generation', function() {
            spyOn($scope,'advanceGeneration');
            $scope.advanceGeneration();
            expect($scope.advanceGeneration).toHaveBeenCalled();
        });
        it('should check the cells surrounding the cellToCheck to see if they are alive', function() {
            $scope.cells = [{x:0,y:0,alive:true,surviving:false,adjacent:0},{x:1,y:0,alive:true,surviving:false,adjacent:0}];
            $scope.advanceGeneration();
            expect($scope.cells[1].adjacent).toBe(1);
        });
        it('should calculate which cells will survive to the next generation', function() {
            $scope.advanceGeneration();
            var survivors = $scope.cells.filter(function(elem) {
                return elem.adjacent === 3 || (elem.adjacent === 2 &amp;&amp; elem.alive);
            });
            var numSurvivingCorrect = survivors.every(function(elem) {
                return elem.surviving;
            });
            expect(numSurvivingCorrect).toBe(true);
&nbsp;
            var killed = $scope.cells.filter(function(elem) {
                return !(elem.adjacent === 3 || (elem.adjacent === 2 &amp;&amp; elem.alive));
            });
            var numKilledCorrect = killed.every(function(elem) {
                return !elem.surviving;
            });
            expect(numKilledCorrect).toBe(true);
        });
        it('should handle adjusting the survivors vs. those killed off', function() {
            spyOn($scope,'handleSurvivors');
            $scope.advanceGeneration();
            expect($scope.handleSurvivors).toHaveBeenCalled();
        });
    });
&nbsp;
    describe('handle survivors of the current generation', function() {
        beforeEach(function() {
            $scope.init();
            $scope.advanceGeneration();
        });
        it('should call a function to handle the survivors', function() {
            spyOn($scope,'handleSurvivors');
            $scope.handleSurvivors();
            expect($scope.handleSurvivors).toHaveBeenCalled();
        });
        it('should set any cells that survive to being alive', function() {
            $scope.handleSurvivors();
            var survivors = $scope.cells.filter(function(elem) {
                return elem.surviving;
            });
            var survivorsAreAlive = survivors.every(function(elem) {
                return elem.alive;
            });
            expect(survivorsAreAlive).toBe(true);
        });
        it('should set any cells that do not survive to being not alive', function() {
            $scope.handleSurvivors();
            var killed = $scope.cells.filter(function(elem) {
                return !elem.surviving;
            });
            var killedAreDead = killed.every(function(elem) {
                return !elem.alive;
            });
            expect(killedAreDead).toBe(true);
        });
        it('should increment the currentGeneration variable', function() {
            $scope.currentGeneration = 0;
            $scope.handleSurvivors();
            expect($scope.currentGeneration).toBe(1);
        });
        it('should count the number of cells that are now alive', function() {
            spyOn($scope,'countAlive');
            $scope.handleSurvivors();
            expect($scope.countAlive).toHaveBeenCalled();
        });
    });
});</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Jun 23 2015 13:36:22 GMT-0600 (Mountain Daylight Time)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
